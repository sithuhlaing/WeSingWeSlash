{"version":3,"sources":["mainMenu.js"],"names":["cc","Class","extends","Component","properties","background","Node","cutScenes","default","type","SpriteFrame","_index","btnPlay","audioClip","url","AudioClip","onLoad","director","preloadScene","onDestroy","buttonPlay","that","G","memoryAudio","audioEngine","play","active","fadeInOut","schedule","showCutScenes","getComponent","Sprite","spriteFrame","length","setTimeout","unschedule","loadScene","myNode","fadeIn_action","fadeIn","delay_action","delayTime","fadeOut_action","fadeOut","sequence","runAction"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAYL,GAAGM,IADP;AAERC,mBAAW;AACPC,qBAAS,EADF;AAEPC,kBAAMT,GAAGU;AAFF,SAFH;AAMRC,gBAAQ,CANA;AAORC,iBAASZ,GAAGM,IAPJ;AAQRO,mBAAU;AACNL,qBAAQ,IADF;AAENM,iBAAId,GAAGe;AAFD;AARF,KAHP;;AAiBLC,YAAS,kBAAW;AAChB;AACAhB,WAAGiB,QAAH,CAAYC,YAAZ,CAAyB,OAAzB,EAAkC,YAAW;AACzC;AACH,SAFD;AAGH,KAtBI;AAuBLC,eAAU,qBAAU;AAChB;;AAEH,KA1BI;AA2BL;AACAC,gBAAa,sBAAW;AACpB,YAAIC,OAAO,IAAX;AACAC,UAAEC,WAAF,GAAcvB,GAAGwB,WAAH,CAAeC,IAAf,CAAoB,KAAKZ,SAAzB,EAAoC,IAApC,EAA0C,GAA1C,CAAd;AACA,aAAKD,OAAL,CAAac,MAAb,GAAsB,KAAtB;AACA,aAAKC,SAAL,CAAe,KAAKtB,UAApB;AACA,aAAKuB,QAAL,CAAc,KAAKC,aAAnB,EAAkC,CAAlC;AACH,KAlCI;;AAoCLA,mBAAe,yBAAW;AAAA;;AACtB,aAAKF,SAAL,CAAe,KAAKtB,UAApB;AACA,aAAKA,UAAL,CAAgByB,YAAhB,CAA6B9B,GAAG+B,MAAhC,EAAwCC,WAAxC,GAAsD,KAAKzB,SAAL,CAAe,KAAKI,MAApB,CAAtD;AACA,aAAKA,MAAL;AACA,YAAI,KAAKA,MAAL,IAAe,KAAKJ,SAAL,CAAe0B,MAAlC,EAA0C;AACtC,gBAAIZ,OAAO,IAAX;AACAa,uBAAW,YAAM;AACb,sBAAKC,UAAL,CAAgB,MAAKN,aAArB;AACA7B,mBAAGiB,QAAH,CAAYmB,SAAZ,CAAsB,OAAtB;AACH,aAHD,EAGG,IAHH;AAIH;AACJ,KA/CI;;AAiDLT,eAAW,mBAASU,MAAT,EAAiB;AACxB,YAAIC,gBAAgB,IAAItC,GAAGuC,MAAP,CAAc,CAAd,CAApB;AACA,YAAIC,eAAe,IAAIxC,GAAGyC,SAAP,CAAiB,CAAjB,CAAnB;AACA,YAAIC,iBAAiB,IAAI1C,GAAG2C,OAAP,CAAe,CAAf,CAArB;AACA,YAAIhB,YAAY,IAAI3B,GAAG4C,QAAP,CAAgBN,aAAhB,EAA+BE,YAA/B,EAA6CE,cAA7C,CAAhB;AACAL,eAAOQ,SAAP,CAAiBlB,SAAjB;AACH;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;AAjEK,CAAT","file":"mainMenu.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        background: cc.Node,\r\n        cutScenes: {\r\n            default: [],\r\n            type: cc.SpriteFrame\r\n        },\r\n        _index: 0,\r\n        btnPlay: cc.Node,\r\n        audioClip:{\r\n            default:null,\r\n            url:cc.AudioClip\r\n        }\r\n    },\r\n\r\n    onLoad : function() {\r\n        // this.node.getComponent(\"SoundManager\").onPlayPianoClip()\r\n        cc.director.preloadScene('Room1', function() {\r\n            // cc.log(\"Next scene preloaded\");\r\n        });\r\n    },\r\n    onDestroy:function(){\r\n        //this.node.getComponent(\"SoundManager\").onStopPianoClip()//afkja\r\n        \r\n    },\r\n    // button click\r\n    buttonPlay : function() {\r\n        var that = this;\r\n        G.memoryAudio=cc.audioEngine.play(this.audioClip, true, 0.5);\r\n        this.btnPlay.active = false;\r\n        this.fadeInOut(this.background);\r\n        this.schedule(this.showCutScenes, 4);\r\n    },\r\n\r\n    showCutScenes: function() {\r\n        this.fadeInOut(this.background);\r\n        this.background.getComponent(cc.Sprite).spriteFrame = this.cutScenes[this._index];\r\n        this._index++;\r\n        if (this._index == this.cutScenes.length) {\r\n            var that = this;\r\n            setTimeout(() => {\r\n                this.unschedule(this.showCutScenes);\r\n                cc.director.loadScene(\"Room1\");\r\n            }, 4000);\r\n        }\r\n    },\r\n\r\n    fadeInOut: function(myNode) {\r\n        var fadeIn_action = new cc.fadeIn(1);\r\n        var delay_action = new cc.delayTime(1);\r\n        var fadeOut_action = new cc.fadeOut(1);\r\n        var fadeInOut = new cc.sequence(fadeIn_action, delay_action, fadeOut_action);\r\n        myNode.runAction(fadeInOut);\r\n    }\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}